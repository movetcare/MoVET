
  <!DOCTYPE html>
  <html>
    <head>
      <title>paymentIntentUpdated.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="negative"><td class="">apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts</td><td class="">25.97%</td><td class="">75%</td><td class="">308</td><td class="">80</td><td class="">228</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { getProVetIdFromUrl } from &quot;./../../utils/getProVetIdFromUrl&quot;;
import { admin, proVetApiUrl, request, throwError } from &quot;../../config/config&quot;;
const DEBUG = false; // environment.type === &quot;production&quot;;
export const paymentIntentUpdated = async (event: any): Promise&lt;void&gt; =&gt; {
  const { object } = event?.data || {};
  const { id, status, amount, charges } = object || {};
  const { invoice } = object?.metadata || {};
  const clientId = await admin
    .firestore()
    .collection(&quot;counter_sales&quot;)
    .doc(`${invoice}`)
    .get()
    .then((doc: any) =&gt;
      doc.data()?.client !== null
        ? getProVetIdFromUrl(doc.data()?.client)
        : false
    )
    .catch((error: any) =&gt; {
      console.log(error);
      return false;
    });
  if (event?.type === &quot;payment_intent.succeeded&quot; &amp;&amp; invoice) {
    if (clientId === false)
      admin
        .firestore()
        .collection(&quot;counter_sales&quot;)
        .doc(`${invoice}`)
        .set(
          {
            paymentIntent: id,
            paymentStatus: status,
            paymentIntentObject: object,
            updatedOn: new Date(),
          },
          { merge: true }
        )
        .then(() =&gt;
          request
            .post(&quot;/invoicepayment/&quot;, {
              invoice: proVetApiUrl + `/invoice/${invoice}/`,
              payment_type: 0,
              paid: amount / 100,
              status: 3,
              info: charges?.data[0]?.payment_method_details?.card
                ? `${charges?.data[0]?.payment_method_details?.card?.brand?.toUpperCase()} - ${
                    charges?.data[0]?.payment_method_details?.card?.last4
                  }`
                : charges?.data[0]?.payment_method_details?.card_present
                ? `${charges?.data[0]?.payment_method_details?.card_present?.brand?.toUpperCase()} - ${
                    charges?.data[0]?.payment_method_details?.card_present
                      ?.last4
                  }`
                : `UNKNOWN PAYMENT: ${id}`,
              created_user:
                proVetApiUrl +
                `/user/${
                  7
                  // environment?.type === &#x27;production&#x27; ? &#x27;7&#x27; : &#x27;63&#x27;
                }/`,
            })
            .then((response: any) =&gt; {
              const { data } = response;
              if (DEBUG)
                console.log(&quot;API Response: POST /invoicepayment/ =&gt; &quot;, data);
            })
            .catch((error: any) =&gt; throwError(error))
        )
        .catch((error: any) =&gt; console.error(error));
    else {
      const userId = await admin
        .firestore()
        .collection(&quot;client_invoices&quot;)
        .doc(`${invoice}`)
        .get()
        .then((doc: any) =&gt; getProVetIdFromUrl(doc.data()?.client))
        .catch((error: any) =&gt; console.error(error));
      if (userId)
        admin
          .firestore()
          .collection(&quot;client_invoices&quot;)
          .doc(`${invoice}`)
          .set(
            {
              paymentIntent: id,
              paymentStatus: status,
              paymentIntentObject: object,
              updatedOn: new Date(),
            },
            { merge: true }
          )
          .then(() =&gt;
            request
              .post(&quot;/invoicepayment/&quot;, {
                invoice: proVetApiUrl + `/invoice/${invoice}/`,
                payment_type: 0,
                paid: amount / 100,
                status: 3,
                info: charges?.data[0]?.payment_method_details?.card
                  ? `${charges?.data[0]?.payment_method_details?.card?.brand?.toUpperCase()} - ${
                      charges?.data[0]?.payment_method_details?.card?.last4
                    }`
                  : charges?.data[0]?.payment_method_details?.card_present
                  ? `${charges?.data[0]?.payment_method_details?.card_present?.brand?.toUpperCase()} - ${
                      charges?.data[0]?.payment_method_details?.card_present
                        ?.last4
                    }`
                  : `UNKNOWN PAYMENT: ${id}`,
                created_user:
                  proVetApiUrl +
                  `/user/${
                    7
                    // environment?.type === &#x27;production&#x27; ? &#x27;7&#x27; : &#x27;63&#x27;
                  }/`,
              })
              .then((response: any) =&gt; {
                const { data } = response;
                if (DEBUG)
                  console.log(&quot;API Response: POST /invoicepayment/ =&gt; &quot;, data);
              })
              .then(() =&gt;
                admin
                  .firestore()
                  .collection(&quot;clients&quot;)
                  .doc(`${userId}`)
                  .collection(&quot;invoices&quot;)
                  .doc(`${invoice}`)
                  .set(
                    {
                      paymentIntent: id,
                      paymentStatus: status,
                      paymentIntentObject: object,
                      updatedOn: new Date(),
                    },
                    { merge: true }
                  )
              )
              .then(async () =&gt; {
                const user = await admin
                  .auth()
                  .getUser(`${userId}`)
                  .catch((error: any) =&gt; console.error(error));
                if (DEBUG) {
                  console.log(&quot;`${userId}`&quot;, `${userId}`);
                  console.log(&quot;`${user.email}`&quot;, `${user?.email}`);
                }
                if (user) {
                  const clientIsOnWaitlist = await admin
                    .firestore()
                    .collection(&quot;waitlist&quot;)
                    .doc(user?.email)
                    .get()
                    .then((doc: any) =&gt; {
                      if (DEBUG)
                        console.log(&quot;clientIsOnWaitlist DATA&quot;, doc.data());
                      return true;
                    })
                    .catch((error: any) =&gt; {
                      console.error(error);
                      return false;
                    });
                  if (DEBUG)
                    console.log(&quot;`clientIsOnWaitlist`&quot;, clientIsOnWaitlist);
                  if (clientIsOnWaitlist) {
                    if (DEBUG)
                      console.log(
                        &quot;ARCHIVING CLIENT FROM WAITLIST&quot;,
                        user?.email
                      );
                    admin
                      .firestore()
                      .collection(&quot;waitlist&quot;)
                      .doc(user?.email)
                      .set(
                        {
                          updatedOn: new Date(),
                          isActive: false,
                        },
                        { merge: true }
                      )
                      .catch((error: any) =&gt; console.error(error));
                  } else if (DEBUG)
                    console.log(&quot;CLIENT WAS NOT ON WAITLIST&quot;, user?.email);
                }
              })
              .catch((error: any) =&gt; throwError(error))
          )
          .catch((error: any) =&gt; console.error(error));
      else
        throwError(
          `FAILED TO CLOSE PROVET INVOICE - UNABLE TO LOCATE CLIENT ID ON INVOICE ${invoice}`
        );
    }
  }
};
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:1,&quot;character&quot;:9,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:1,&quot;character&quot;:30,&quot;text&quot;:&quot;request&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:3,&quot;character&quot;:43,&quot;text&quot;:&quot;event&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:4,&quot;character&quot;:10,&quot;text&quot;:&quot;object&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:4,&quot;character&quot;:21,&quot;text&quot;:&quot;event&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:4,&quot;character&quot;:28,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:5,&quot;character&quot;:10,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:5,&quot;character&quot;:14,&quot;text&quot;:&quot;status&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:5,&quot;character&quot;:22,&quot;text&quot;:&quot;amount&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:5,&quot;character&quot;:30,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:6,&quot;character&quot;:10,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:6,&quot;character&quot;:22,&quot;text&quot;:&quot;object&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:6,&quot;character&quot;:30,&quot;text&quot;:&quot;metadata&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:7,&quot;character&quot;:8,&quot;text&quot;:&quot;clientId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:7,&quot;character&quot;:25,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:8,&quot;character&quot;:5,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:9,&quot;character&quot;:5,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:10,&quot;character&quot;:5,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:10,&quot;character&quot;:12,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:11,&quot;character&quot;:5,&quot;text&quot;:&quot;get&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:12,&quot;character&quot;:5,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:12,&quot;character&quot;:11,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:13,&quot;character&quot;:6,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:13,&quot;character&quot;:10,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:13,&quot;character&quot;:18,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:14,&quot;character&quot;:29,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:14,&quot;character&quot;:33,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:14,&quot;character&quot;:41,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:17,&quot;character&quot;:5,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:17,&quot;character&quot;:12,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:18,&quot;character&quot;:18,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:21,&quot;character&quot;:6,&quot;text&quot;:&quot;event&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:21,&quot;character&quot;:13,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:21,&quot;character&quot;:52,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:22,&quot;character&quot;:8,&quot;text&quot;:&quot;clientId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:23,&quot;character&quot;:6,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:24,&quot;character&quot;:9,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:25,&quot;character&quot;:9,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:26,&quot;character&quot;:9,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:26,&quot;character&quot;:16,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:27,&quot;character&quot;:9,&quot;text&quot;:&quot;set&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:29,&quot;character&quot;:12,&quot;text&quot;:&quot;paymentIntent&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:29,&quot;character&quot;:27,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:30,&quot;character&quot;:12,&quot;text&quot;:&quot;paymentStatus&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:30,&quot;character&quot;:27,&quot;text&quot;:&quot;status&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:31,&quot;character&quot;:12,&quot;text&quot;:&quot;paymentIntentObject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:31,&quot;character&quot;:33,&quot;text&quot;:&quot;object&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:36,&quot;character&quot;:9,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:37,&quot;character&quot;:10,&quot;text&quot;:&quot;request&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:38,&quot;character&quot;:13,&quot;text&quot;:&quot;post&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:39,&quot;character&quot;:50,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:41,&quot;character&quot;:20,&quot;text&quot;:&quot;amount&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:43,&quot;character&quot;:20,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:43,&quot;character&quot;:29,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:43,&quot;character&quot;:38,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:43,&quot;character&quot;:62,&quot;text&quot;:&quot;card&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:21,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:30,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:39,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:63,&quot;text&quot;:&quot;card&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:69,&quot;text&quot;:&quot;brand&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:76,&quot;text&quot;:&quot;toUpperCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:20,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:29,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:38,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:62,&quot;text&quot;:&quot;card&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:68,&quot;text&quot;:&quot;last4&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:18,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:27,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:36,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:60,&quot;text&quot;:&quot;card_present&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:21,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:30,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:39,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:63,&quot;text&quot;:&quot;card_present&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:77,&quot;text&quot;:&quot;brand&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:48,&quot;character&quot;:84,&quot;text&quot;:&quot;toUpperCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:49,&quot;character&quot;:20,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:49,&quot;character&quot;:29,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:49,&quot;character&quot;:38,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:49,&quot;character&quot;:62,&quot;text&quot;:&quot;card_present&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:50,&quot;character&quot;:24,&quot;text&quot;:&quot;last4&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:52,&quot;character&quot;:38,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:60,&quot;character&quot;:13,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:60,&quot;character&quot;:19,&quot;text&quot;:&quot;response&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:61,&quot;character&quot;:22,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:63,&quot;character&quot;:71,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:13,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:20,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:46,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:67,&quot;character&quot;:9,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:67,&quot;character&quot;:16,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:67,&quot;character&quot;:45,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:69,&quot;character&quot;:12,&quot;text&quot;:&quot;userId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:69,&quot;character&quot;:27,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:70,&quot;character&quot;:9,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:71,&quot;character&quot;:9,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:72,&quot;character&quot;:9,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:72,&quot;character&quot;:16,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:9,&quot;text&quot;:&quot;get&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:74,&quot;character&quot;:9,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:74,&quot;character&quot;:15,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:74,&quot;character&quot;:47,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:74,&quot;character&quot;:51,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:74,&quot;character&quot;:59,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:75,&quot;character&quot;:9,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:75,&quot;character&quot;:16,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:75,&quot;character&quot;:45,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:76,&quot;character&quot;:10,&quot;text&quot;:&quot;userId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:77,&quot;character&quot;:8,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:78,&quot;character&quot;:11,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:79,&quot;character&quot;:11,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:80,&quot;character&quot;:11,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:80,&quot;character&quot;:18,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:81,&quot;character&quot;:11,&quot;text&quot;:&quot;set&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:83,&quot;character&quot;:14,&quot;text&quot;:&quot;paymentIntent&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:83,&quot;character&quot;:29,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:84,&quot;character&quot;:14,&quot;text&quot;:&quot;paymentStatus&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:84,&quot;character&quot;:29,&quot;text&quot;:&quot;status&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:85,&quot;character&quot;:14,&quot;text&quot;:&quot;paymentIntentObject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:85,&quot;character&quot;:35,&quot;text&quot;:&quot;object&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:90,&quot;character&quot;:11,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:91,&quot;character&quot;:12,&quot;text&quot;:&quot;request&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:92,&quot;character&quot;:15,&quot;text&quot;:&quot;post&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:93,&quot;character&quot;:52,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:95,&quot;character&quot;:22,&quot;text&quot;:&quot;amount&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:97,&quot;character&quot;:22,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:97,&quot;character&quot;:31,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:97,&quot;character&quot;:40,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:97,&quot;character&quot;:64,&quot;text&quot;:&quot;card&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:23,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:32,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:41,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:65,&quot;text&quot;:&quot;card&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:71,&quot;text&quot;:&quot;brand&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:78,&quot;text&quot;:&quot;toUpperCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:22,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:31,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:40,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:64,&quot;text&quot;:&quot;card&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:70,&quot;text&quot;:&quot;last4&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:101,&quot;character&quot;:20,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:101,&quot;character&quot;:29,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:101,&quot;character&quot;:38,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:101,&quot;character&quot;:62,&quot;text&quot;:&quot;card_present&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:23,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:32,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:41,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:65,&quot;text&quot;:&quot;card_present&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:79,&quot;text&quot;:&quot;brand&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:102,&quot;character&quot;:86,&quot;text&quot;:&quot;toUpperCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:22,&quot;text&quot;:&quot;charges&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:31,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:40,&quot;text&quot;:&quot;payment_method_details&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:64,&quot;text&quot;:&quot;card_present&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:104,&quot;character&quot;:26,&quot;text&quot;:&quot;last4&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:106,&quot;character&quot;:40,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:15,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:21,&quot;text&quot;:&quot;response&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:24,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:73,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:15,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:120,&quot;character&quot;:16,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:121,&quot;character&quot;:19,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:122,&quot;character&quot;:19,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:123,&quot;character&quot;:19,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:123,&quot;character&quot;:26,&quot;text&quot;:&quot;userId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:124,&quot;character&quot;:19,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:125,&quot;character&quot;:19,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:125,&quot;character&quot;:26,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:19,&quot;text&quot;:&quot;set&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:128,&quot;character&quot;:22,&quot;text&quot;:&quot;paymentIntent&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:128,&quot;character&quot;:37,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:22,&quot;text&quot;:&quot;paymentStatus&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:37,&quot;text&quot;:&quot;status&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:130,&quot;character&quot;:22,&quot;text&quot;:&quot;paymentIntentObject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:130,&quot;character&quot;:43,&quot;text&quot;:&quot;object&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:15,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:137,&quot;character&quot;:22,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:137,&quot;character&quot;:35,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:138,&quot;character&quot;:19,&quot;text&quot;:&quot;auth&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:139,&quot;character&quot;:19,&quot;text&quot;:&quot;getUser&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:139,&quot;character&quot;:30,&quot;text&quot;:&quot;userId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:140,&quot;character&quot;:19,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:140,&quot;character&quot;:26,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:140,&quot;character&quot;:55,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:142,&quot;character&quot;:48,&quot;text&quot;:&quot;userId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:143,&quot;character&quot;:52,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:143,&quot;character&quot;:58,&quot;text&quot;:&quot;email&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:145,&quot;character&quot;:20,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:146,&quot;character&quot;:24,&quot;text&quot;:&quot;clientIsOnWaitlist&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:146,&quot;character&quot;:51,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:147,&quot;character&quot;:21,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:148,&quot;character&quot;:21,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:149,&quot;character&quot;:21,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:149,&quot;character&quot;:25,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:149,&quot;character&quot;:31,&quot;text&quot;:&quot;email&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:150,&quot;character&quot;:21,&quot;text&quot;:&quot;get&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:151,&quot;character&quot;:21,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:151,&quot;character&quot;:27,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:153,&quot;character&quot;:63,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:153,&quot;character&quot;:67,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:156,&quot;character&quot;:21,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:156,&quot;character&quot;:28,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:157,&quot;character&quot;:36,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:161,&quot;character&quot;:56,&quot;text&quot;:&quot;clientIsOnWaitlist&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:162,&quot;character&quot;:22,&quot;text&quot;:&quot;clientIsOnWaitlist&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:166,&quot;character&quot;:24,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:166,&quot;character&quot;:30,&quot;text&quot;:&quot;email&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:168,&quot;character&quot;:20,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:169,&quot;character&quot;:23,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:170,&quot;character&quot;:23,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:171,&quot;character&quot;:23,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:171,&quot;character&quot;:27,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:171,&quot;character&quot;:33,&quot;text&quot;:&quot;email&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:172,&quot;character&quot;:23,&quot;text&quot;:&quot;set&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:179,&quot;character&quot;:23,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:179,&quot;character&quot;:30,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:179,&quot;character&quot;:59,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:62,&quot;text&quot;:&quot;user&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:68,&quot;text&quot;:&quot;email&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:15,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:22,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:48,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:11,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:18,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:47,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/integrations/stripe/paymentIntentUpdated.ts&quot;,&quot;line&quot;:189,&quot;character&quot;:84,&quot;text&quot;:&quot;invoice&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 02 Mar 2023 15:37:59 GMT</p>
    </body>
  </html>
  