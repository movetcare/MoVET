
  <!DOCTYPE html>
  <html>
    <head>
      <title>sendNotification.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="negative"><td class="">apps/api.movetcare.com/src/notifications/sendNotification.ts</td><td class="">37.36%</td><td class="">75%</td><td class="">455</td><td class="">170</td><td class="">285</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">/* eslint-disable no-case-declarations */
/* eslint-disable no-case-declarations */
import {
  admin,
  emailClient,
  environment,
  smsClient,
  throwError,
  DEBUG,
} from &quot;../config/config&quot;;
import { findSlackChannel } from &quot;../utils/logging/findSlackChannel&quot;;
import { sendSlackMessage } from &quot;../utils/logging/sendSlackMessage&quot;;
import { createProVetNote } from &quot;../integrations/provet/entities/note/createProVetNote&quot;;
import {
  getClientNotificationSettings,
  UserNotificationSettings,
} from &quot;../utils/getClientNotificationSettings&quot;;

export const sendNotification = async ({
  type,
  payload,
}: {
  type: &quot;slack&quot; | &quot;email&quot; | &quot;sms&quot;;
  payload: any;
}): Promise&lt;void&gt; =&gt; {
  if (DEBUG) {
    console.log(
      `sendNotification =&gt; NOTIFICATION OF TYPE &quot;${type.toUpperCase()}&quot; TRIGGERED`
    );
    console.log(&quot;sendNotification =&gt; PAYLOAD&quot;, payload);
  }
  const sendSlackMessageToChannel = async (message: string | null = null) =&gt; {
    if (DEBUG) {
      console.log(&quot;sendSlackMessageToChannel message&quot;, message);
      console.log(
        &quot;sendSlackMessageToChannel payload?.message&quot;,
        payload?.message
      );
    }
    const channelId: any = await findSlackChannel(
      environment.type === &quot;production&quot; &amp;&amp; payload?.channel
        ? payload?.channel
        : environment.type === &quot;production&quot;
        ? &quot;production-logs&quot;
        : &quot;development-feed&quot;
    );
    if (DEBUG) console.log(&quot;sendNotification =&gt; channelId&quot;, channelId);
    if (Array.isArray(payload?.message)) {
      if (DEBUG)
        console.log(
          &quot;sendNotification =&gt; SENDING SLACK MESSAGE AS A BLOCK&quot;,
          payload?.message
        );
      sendSlackMessage(channelId, null, payload?.message);
    } else if (payload?.message !== null &amp;&amp; message === null) {
      if (DEBUG)
        console.log(
          &quot;sendNotification =&gt; SENDING SLACK MESSAGE FROM PAYLOAD&quot;,
          payload?.message
        );
      sendSlackMessage(channelId, payload?.message);
    } else if (message) {
      if (DEBUG)
        console.log(
          &quot;sendNotification =&gt; SENDING SLACK MESSAGE (HARDCODED)&quot;,
          payload?.message
        );
      sendSlackMessage(channelId, message);
    }
  };

  switch (type) {
    case &quot;slack&quot;:
      if (payload?.message) sendSlackMessageToChannel();
      else if (DEBUG)
        console.log(&quot;DID NOT SEND SLACK MESSAGE - MISSING MESSAGE&quot;, payload);
      break;
    case &quot;email&quot;:
      const emailConfig: any = {
        to:
          environment.type === &quot;production&quot;
            ? payload?.to || &quot;info@movetcare.com&quot;
            : &quot;support+staging@movetcare.com&quot;,
        from: payload?.from || &quot;info@movetcare.com&quot;,
        //bcc: payload?.bcc|| &quot;support+system_bcc@movetcare.com&quot;,
        replyTo: payload?.replyTo || &quot;info@movetcare.com&quot;,
        subject:
          (environment.type === &quot;staging&quot; ? &quot;(STAGING) &quot; : &quot;&quot;) +
          (payload?.subject || &quot;WHOOPS! Something Went Wrong...&quot;),
        text: payload?.message?.replace(/(&lt;([^&gt;]+)&gt;)/gi, &quot;&quot;),
        html: payload?.message,
      };
      if (DEBUG) console.log(&quot;emailConfig =&gt;&quot;, emailConfig);
      const sendEmailNotification = () =&gt; {
        if (
          environment.type !== &quot;production&quot; ||
          emailConfig?.to?.toLowerCase().includes(&quot;+test&quot;)
        )
          sendSlackMessageToChannel(
            `:e-mail: ${environment.type} Environment Email NOT Sent to ${
              emailConfig?.to?.toLowerCase()?.includes(&quot;+test&quot;)
                ? &quot;TEST Client&quot;
                : &quot;Client&quot;
            }:\n\nTO: ${emailConfig.to}\n\nFROM: ${
              emailConfig.from
            }\n\nSUBJECT: ${emailConfig.subject}`
          );
        else if (
          !emailConfig?.to?.toLowerCase()?.includes(&quot;+test&quot;) &amp;&amp;
          !emailConfig?.replyTo?.toLowerCase()?.includes(&quot;+test&quot;)
        )
          emailClient
            .send(emailConfig)
            .then(() =&gt; {
              if (DEBUG) console.log(&quot;EMAIL SENT!&quot;, emailConfig);
              if (payload?.client &amp;&amp; emailConfig.to !== &quot;info@movetcare.com&quot;) {
                createProVetNote({
                  type: 1,
                  subject: emailConfig.subject,
                  message: emailConfig.message,
                  client: `${payload?.client}`,
                  patients: payload?.patients || [],
                });
                admin
                  .firestore()
                  .collection(&quot;clients&quot;)
                  .doc(`${payload?.client}`)
                  .collection(&quot;notifications&quot;)
                  .add({
                    type: &quot;email&quot;,
                    ...emailConfig,
                    createdOn: new Date(),
                  })
                  .catch((error: any) =&gt; throwError(error));
              }
              sendSlackMessageToChannel(
                `:e-mail: System Email Sent:\n\nTO: ${emailConfig.to}\n\nFROM: ${emailConfig.from}\n\nSUBJECT: ${emailConfig.subject}`
              );
            })
            .catch((error: any) =&gt; {
              if (DEBUG) console.log(&quot;EMAIL FAILED TO SEND!&quot;, emailConfig);
              sendSlackMessageToChannel(
                `:e-mail: System Email FAILED:\n\nTO: ${
                  emailConfig.to
                }\n\nFROM: ${emailConfig.from}\n\nSUBJECT: ${
                  emailConfig.subject
                }\n\nREASON: \`\`\`${JSON.stringify(error)}}\`\`\``
              );
              if (payload?.client)
                createProVetNote({
                  type: 0,
                  subject: &quot;FAILED TO SEND: &quot; + payload?.subject,
                  message:
                    &quot;ERROR MESSAGE: &quot; +
                    JSON.stringify(error) +
                    &quot;\n\nMESSAGE CONTENTS:\n&quot; +
                    payload?.message,
                  client: payload?.client,
                  patients: payload?.patients || [],
                });
              throwError(error);
            });
      };
      if (payload?.client) {
        const userNotificationSettings: UserNotificationSettings | false =
          await getClientNotificationSettings(payload?.client);
        if (
          userNotificationSettings &amp;&amp;
          userNotificationSettings?.sendEmail &amp;&amp;
          environment?.type === &quot;production&quot; &amp;&amp;
          !emailConfig?.to?.toLowerCase()?.includes(&quot;+test&quot;)
        ) {
          sendEmailNotification();
        } else if (DEBUG)
          console.log(&quot;DID NOT SEND EMAIL&quot;, {
            sendEmail:
              userNotificationSettings &amp;&amp; userNotificationSettings?.sendEmail,
            ...emailConfig,
          });
      } else if (environment?.type === &quot;production&quot;) sendEmailNotification();
      break;
    case &quot;sms&quot;:
      if (payload?.client) {
        const phone = await admin
          .firestore()
          .collection(&quot;clients&quot;)
          .doc(`${payload?.client}`)
          .get()
          .then((doc: any) =&gt;
            doc
              .data()
              ?.phone.replace(&quot;(&quot;, &quot;&quot;)
              .replace(&quot;)&quot;, &quot;&quot;)
              .replace(&quot;-&quot;, &quot;&quot;)
              .replace(&quot; &quot;, &quot;&quot;)
          )
          .catch((error: any) =&gt; throwError(error));
        if (phone) {
          const userNotificationSettings: UserNotificationSettings | false =
            await getClientNotificationSettings(payload?.client);
          if (
            userNotificationSettings &amp;&amp;
            userNotificationSettings?.sendSms &amp;&amp;
            phone &amp;&amp;
            environment?.type === &quot;production&quot;
          ) {
            smsClient.messages
              .create({
                body: payload?.message,
                from: &quot;+17206775047&quot;,
                to: phone,
              })
              .then(async () =&gt; {
                if (DEBUG)
                  console.log(&quot;SMS SENT!&quot;, {
                    body: payload?.message,
                    from: &quot;+17206775047&quot;,
                    to: phone,
                  });
                sendSlackMessageToChannel(
                  `:speech_balloon: System SMS Sent:\n\nTO: ${phone}\n\nCLIENT: ${payload?.client}\n\nSUBJECT: ${payload?.subject}\n\nMESSAGE: ${payload?.message}`
                );
                createProVetNote({
                  type: 0,
                  subject: payload?.subject,
                  message: payload?.message,
                  client: payload?.client,
                  patients: payload?.patients || [],
                });
                admin
                  .firestore()
                  .collection(&quot;clients&quot;)
                  .doc(`${payload?.client}`)
                  .collection(&quot;notifications&quot;)
                  .add({
                    type: &quot;sms&quot;,
                    body: payload?.message,
                    from: &quot;+17206775047&quot;,
                    to: phone,
                    createdOn: new Date(),
                  })
                  .catch((error: any) =&gt; throwError(error));
              })
              .catch((error: any) =&gt; {
                if (DEBUG)
                  console.log(&quot;SMS FAILED TO SEND!&quot;, {
                    body: payload?.message,
                    from: &quot;+17206775047&quot;,
                    to: phone,
                  });
                sendSlackMessageToChannel(
                  `:speech_balloon: System SMS FAILED:\n\nTO: ${phone}\n\nCLIENT: ${
                    payload?.client
                  }\n\nSUBJECT: ${payload?.subject}\n\nMESSAGE: ${
                    payload?.message
                  }\n\nREASON: ${error?.message || JSON.stringify(error)}`
                );
                createProVetNote({
                  type: 0,
                  subject: &quot;FAILED TO SEND: &quot; + payload?.subject,
                  message:
                    &quot;ERROR MESSAGE: &quot; +
                    JSON.stringify(error) +
                    &quot;\n\nMESSAGE CONTENTS:\n&quot; +
                    payload?.message,
                  client: payload?.client,
                  patients: payload?.patients || [],
                });
                if (
                  error?.message.includes(&quot;is not a valid phone number&quot;) ===
                  false
                )
                  throwError(error);
              });
          } else {
            if (DEBUG)
              console.log(&quot;DID NOT SEND SMS&quot;, {
                sendSms:
                  userNotificationSettings &amp;&amp; userNotificationSettings?.sendSms,
                subject: payload?.subject,
                body: payload?.message,
                to: phone,
              });
            sendSlackMessageToChannel(
              `:speech_balloon: System SMS SKIPPED:\n\nTO: ${phone}\n\nCLIENT: ${
                payload?.client
              }\n\nSUBJECT: ${payload?.subject}\n\nMESSAGE: ${
                payload?.message
              }\n\nCLIENT SMS ENABLED: ${
                userNotificationSettings &amp;&amp;
                userNotificationSettings?.sendSms.toString()
              }`
            );
          }
        } else {
          if (DEBUG)
            console.log(
              &quot;DID NOT SEND SMS - MISSING CLIENT PHONE NUMBER&quot;,
              payload?.subject
            );
          sendSlackMessageToChannel(
            `:speech_balloon: System SMS FAILED:\n\nTO: ${phone}\n\nCLIENT: ${payload?.client}\n\nSUBJECT: ${payload?.subject}\n\nMESSAGE: ${payload?.message}\n\nREASON: MISSING CLIENT PHONE NUMBER`
          );
        }
      } else {
        if (DEBUG)
          console.log(&quot;DID NOT SEND SMS - MISSING CLIENT ID&quot;, payload?.subject);
        sendSlackMessageToChannel(
          `:speech_balloon: System SMS FAILED:\n\nCLIENT: ${payload?.client}\n\nSUBJECT: ${payload?.subject}\n\nMESSAGE: ${payload?.message}\n\nREASON: MISSING CLIENT ID`
        );
      }
      break;
    default:
      break;
  }
};
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:3,&quot;character&quot;:2,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:5,&quot;character&quot;:2,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:6,&quot;character&quot;:2,&quot;text&quot;:&quot;smsClient&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:20,&quot;character&quot;:2,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:23,&quot;character&quot;:2,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:29,&quot;character&quot;:47,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:36,&quot;character&quot;:8,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:36,&quot;character&quot;:17,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:39,&quot;character&quot;:10,&quot;text&quot;:&quot;channelId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:40,&quot;character&quot;:6,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:40,&quot;character&quot;:18,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:40,&quot;character&quot;:43,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:40,&quot;character&quot;:52,&quot;text&quot;:&quot;channel&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:41,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:41,&quot;character&quot;:19,&quot;text&quot;:&quot;channel&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:42,&quot;character&quot;:10,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:42,&quot;character&quot;:22,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:46,&quot;character&quot;:60,&quot;text&quot;:&quot;channelId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:22,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:31,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:51,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:51,&quot;character&quot;:19,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:53,&quot;character&quot;:40,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:53,&quot;character&quot;:49,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:54,&quot;character&quot;:15,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:54,&quot;character&quot;:24,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:58,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:58,&quot;character&quot;:19,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:60,&quot;character&quot;:34,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:60,&quot;character&quot;:43,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:65,&quot;character&quot;:19,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:73,&quot;character&quot;:19,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:75,&quot;character&quot;:68,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:78,&quot;character&quot;:12,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:79,&quot;character&quot;:8,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:80,&quot;character&quot;:10,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:80,&quot;character&quot;:22,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:81,&quot;character&quot;:14,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:81,&quot;character&quot;:23,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:83,&quot;character&quot;:8,&quot;text&quot;:&quot;from&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:83,&quot;character&quot;:14,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:83,&quot;character&quot;:23,&quot;text&quot;:&quot;from&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:85,&quot;character&quot;:8,&quot;text&quot;:&quot;replyTo&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:85,&quot;character&quot;:17,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:85,&quot;character&quot;:26,&quot;text&quot;:&quot;replyTo&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:87,&quot;character&quot;:11,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:87,&quot;character&quot;:23,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:88,&quot;character&quot;:11,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:88,&quot;character&quot;:20,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:89,&quot;character&quot;:8,&quot;text&quot;:&quot;text&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:89,&quot;character&quot;:14,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:89,&quot;character&quot;:23,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:89,&quot;character&quot;:32,&quot;text&quot;:&quot;replace&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:90,&quot;character&quot;:8,&quot;text&quot;:&quot;html&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:90,&quot;character&quot;:14,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:90,&quot;character&quot;:23,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:92,&quot;character&quot;:47,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:95,&quot;character&quot;:10,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:95,&quot;character&quot;:22,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:96,&quot;character&quot;:10,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:96,&quot;character&quot;:23,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:96,&quot;character&quot;:27,&quot;text&quot;:&quot;toLowerCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:96,&quot;character&quot;:41,&quot;text&quot;:&quot;includes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:24,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:99,&quot;character&quot;:36,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:100,&quot;character&quot;:14,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:100,&quot;character&quot;:27,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:100,&quot;character&quot;:31,&quot;text&quot;:&quot;toLowerCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:100,&quot;character&quot;:46,&quot;text&quot;:&quot;includes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:24,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:36,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:104,&quot;character&quot;:14,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:104,&quot;character&quot;:26,&quot;text&quot;:&quot;from&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:105,&quot;character&quot;:28,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:105,&quot;character&quot;:40,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:108,&quot;character&quot;:11,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:108,&quot;character&quot;:24,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:108,&quot;character&quot;:28,&quot;text&quot;:&quot;toLowerCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:108,&quot;character&quot;:43,&quot;text&quot;:&quot;includes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:11,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:24,&quot;text&quot;:&quot;replyTo&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:33,&quot;text&quot;:&quot;toLowerCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:48,&quot;text&quot;:&quot;includes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:52,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:18,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:27,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:37,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:49,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:118,&quot;character&quot;:27,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:118,&quot;character&quot;:39,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:27,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:39,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:120,&quot;character&quot;:29,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:120,&quot;character&quot;:38,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:121,&quot;character&quot;:28,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:121,&quot;character&quot;:37,&quot;text&quot;:&quot;patients&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:123,&quot;character&quot;:16,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:124,&quot;character&quot;:19,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:125,&quot;character&quot;:19,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:19,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:35,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:127,&quot;character&quot;:19,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:128,&quot;character&quot;:19,&quot;text&quot;:&quot;add&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:130,&quot;character&quot;:23,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:133,&quot;character&quot;:19,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:133,&quot;character&quot;:26,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:133,&quot;character&quot;:52,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:54,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:66,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:81,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:93,&quot;text&quot;:&quot;from&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:113,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:125,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:139,&quot;character&quot;:20,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:140,&quot;character&quot;:62,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:143,&quot;character&quot;:18,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:143,&quot;character&quot;:30,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:144,&quot;character&quot;:29,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:144,&quot;character&quot;:41,&quot;text&quot;:&quot;from&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:145,&quot;character&quot;:18,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:145,&quot;character&quot;:30,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:146,&quot;character&quot;:52,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:148,&quot;character&quot;:18,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:148,&quot;character&quot;:27,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:151,&quot;character&quot;:48,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:151,&quot;character&quot;:57,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:154,&quot;character&quot;:35,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:156,&quot;character&quot;:20,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:156,&quot;character&quot;:29,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:157,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:157,&quot;character&quot;:35,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:158,&quot;character&quot;:28,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:158,&quot;character&quot;:37,&quot;text&quot;:&quot;patients&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:160,&quot;character&quot;:25,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:163,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:163,&quot;character&quot;:19,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:165,&quot;character&quot;:46,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:165,&quot;character&quot;:55,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:169,&quot;character&quot;:10,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:169,&quot;character&quot;:23,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:170,&quot;character&quot;:11,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:170,&quot;character&quot;:24,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:170,&quot;character&quot;:28,&quot;text&quot;:&quot;toLowerCase&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:170,&quot;character&quot;:43,&quot;text&quot;:&quot;includes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:177,&quot;character&quot;:15,&quot;text&quot;:&quot;emailConfig&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:179,&quot;character&quot;:17,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:179,&quot;character&quot;:30,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:182,&quot;character&quot;:10,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:182,&quot;character&quot;:19,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:183,&quot;character&quot;:14,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:183,&quot;character&quot;:28,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:184,&quot;character&quot;:11,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:185,&quot;character&quot;:11,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:11,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:18,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:186,&quot;character&quot;:27,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:187,&quot;character&quot;:11,&quot;text&quot;:&quot;get&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:188,&quot;character&quot;:11,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:188,&quot;character&quot;:17,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:189,&quot;character&quot;:12,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:190,&quot;character&quot;:15,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:191,&quot;character&quot;:16,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:191,&quot;character&quot;:22,&quot;text&quot;:&quot;replace&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:192,&quot;character&quot;:15,&quot;text&quot;:&quot;replace&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:193,&quot;character&quot;:15,&quot;text&quot;:&quot;replace&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:194,&quot;character&quot;:15,&quot;text&quot;:&quot;replace&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:196,&quot;character&quot;:11,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:196,&quot;character&quot;:18,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:196,&quot;character&quot;:44,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:197,&quot;character&quot;:12,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:199,&quot;character&quot;:48,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:199,&quot;character&quot;:57,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:203,&quot;character&quot;:12,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:204,&quot;character&quot;:12,&quot;text&quot;:&quot;environment&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:204,&quot;character&quot;:25,&quot;text&quot;:&quot;type&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:206,&quot;character&quot;:12,&quot;text&quot;:&quot;smsClient&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:206,&quot;character&quot;:22,&quot;text&quot;:&quot;messages&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:207,&quot;character&quot;:15,&quot;text&quot;:&quot;create&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:208,&quot;character&quot;:16,&quot;text&quot;:&quot;body&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:208,&quot;character&quot;:22,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:208,&quot;character&quot;:31,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:210,&quot;character&quot;:16,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:210,&quot;character&quot;:20,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:212,&quot;character&quot;:15,&quot;text&quot;:&quot;then&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:215,&quot;character&quot;:20,&quot;text&quot;:&quot;body&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:215,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:215,&quot;character&quot;:35,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:217,&quot;character&quot;:20,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:217,&quot;character&quot;:24,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:62,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:82,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:91,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:113,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:122,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:145,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:154,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:224,&quot;character&quot;:27,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:224,&quot;character&quot;:36,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:225,&quot;character&quot;:27,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:225,&quot;character&quot;:36,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:226,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:226,&quot;character&quot;:35,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:227,&quot;character&quot;:28,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:227,&quot;character&quot;:37,&quot;text&quot;:&quot;patients&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:229,&quot;character&quot;:16,&quot;text&quot;:&quot;admin&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:230,&quot;character&quot;:19,&quot;text&quot;:&quot;firestore&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:231,&quot;character&quot;:19,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:232,&quot;character&quot;:19,&quot;text&quot;:&quot;doc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:232,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:232,&quot;character&quot;:35,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:233,&quot;character&quot;:19,&quot;text&quot;:&quot;collection&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:234,&quot;character&quot;:19,&quot;text&quot;:&quot;add&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:236,&quot;character&quot;:20,&quot;text&quot;:&quot;body&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:236,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:236,&quot;character&quot;:35,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:238,&quot;character&quot;:20,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:238,&quot;character&quot;:24,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:241,&quot;character&quot;:19,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:241,&quot;character&quot;:26,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:241,&quot;character&quot;:52,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:243,&quot;character&quot;:15,&quot;text&quot;:&quot;catch&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:243,&quot;character&quot;:22,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:246,&quot;character&quot;:20,&quot;text&quot;:&quot;body&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:246,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:246,&quot;character&quot;:35,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:248,&quot;character&quot;:20,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:248,&quot;character&quot;:24,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:251,&quot;character&quot;:64,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:252,&quot;character&quot;:20,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:252,&quot;character&quot;:29,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:253,&quot;character&quot;:34,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:253,&quot;character&quot;:43,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:254,&quot;character&quot;:20,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:254,&quot;character&quot;:29,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:255,&quot;character&quot;:33,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:255,&quot;character&quot;:40,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:255,&quot;character&quot;:66,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:259,&quot;character&quot;:48,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:259,&quot;character&quot;:57,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:262,&quot;character&quot;:35,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:264,&quot;character&quot;:20,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:264,&quot;character&quot;:29,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:265,&quot;character&quot;:26,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:265,&quot;character&quot;:35,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:266,&quot;character&quot;:28,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:266,&quot;character&quot;:37,&quot;text&quot;:&quot;patients&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:269,&quot;character&quot;:18,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:269,&quot;character&quot;:25,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:269,&quot;character&quot;:33,&quot;text&quot;:&quot;includes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:272,&quot;character&quot;:29,&quot;text&quot;:&quot;error&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:279,&quot;character&quot;:16,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:279,&quot;character&quot;:25,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:279,&quot;character&quot;:34,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:280,&quot;character&quot;:16,&quot;text&quot;:&quot;body&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:280,&quot;character&quot;:22,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:280,&quot;character&quot;:31,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:281,&quot;character&quot;:16,&quot;text&quot;:&quot;to&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:281,&quot;character&quot;:20,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:284,&quot;character&quot;:61,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:285,&quot;character&quot;:16,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:285,&quot;character&quot;:25,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:286,&quot;character&quot;:30,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:286,&quot;character&quot;:39,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:287,&quot;character&quot;:16,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:287,&quot;character&quot;:25,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:298,&quot;character&quot;:14,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:298,&quot;character&quot;:23,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:58,&quot;text&quot;:&quot;phone&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:78,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:87,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:109,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:118,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:141,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:301,&quot;character&quot;:150,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:306,&quot;character&quot;:62,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:306,&quot;character&quot;:71,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:308,&quot;character&quot;:60,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:308,&quot;character&quot;:69,&quot;text&quot;:&quot;client&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:308,&quot;character&quot;:91,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:308,&quot;character&quot;:100,&quot;text&quot;:&quot;subject&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:308,&quot;character&quot;:123,&quot;text&quot;:&quot;payload&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;apps/api.movetcare.com/src/notifications/sendNotification.ts&quot;,&quot;line&quot;:308,&quot;character&quot;:132,&quot;text&quot;:&quot;message&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 02 Mar 2023 15:37:59 GMT</p>
    </body>
  </html>
  